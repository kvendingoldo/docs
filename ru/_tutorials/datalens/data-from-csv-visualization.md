# Простой дашборд из CSV-файла



{% include [datalens-folder-navigation-note](../../_includes/datalens/datalens-folder-navigation-note.md) %}


В этом руководстве будет продемонстрировано, как {{ datalens-short-name }} можно использовать для исследования зависимостей, например:

* Веса супергероя от его пола.
* Веса супергероя от его принадлежности к лагерю хороших или плохих.

В качестве исходных данных будет использоваться файл `SuperHeroes.csv` с информацией о супергероях — имя, пол, раса, издатель комиксов и т. д. [Скачайте](https://storage.yandexcloud.net/datalens/SuperHeroes.csv) его перед прохождением руководства.

Для визуализации и исследования данных [подготовьте {{ datalens-short-name }} к работе](#before-you-begin), затем выполните следующие шаги:

1. [Создайте воркбук](#create-workbook).
1. [Создайте подключение](#create-connection).
1. [Создайте датасет](#create-dataset).
1. [Создайте первый чарт](#create-column-chart1).
1. [Создайте второй чарт](#create-column-chart2).
1. [Создайте дашборд и добавьте на него чарты](#create-dashboard).
1. [Добавьте селекторы на дашборд](#add-selectors).
1. [Приступите к исследованию зависимостей и данных о супергероях](#search-on-dashboard).


## Перед началом работы {#before-you-begin}

{% include [before-you-begin](../_tutorials_includes/before-you-begin-datalens.md) %}

## Создайте воркбук {#create-workbook}

1. Перейдите на [главную страницу]({{ link-datalens-main }}) {{ datalens-short-name }}.
1. На панели слева выберите ![collections](../../_assets/console-icons/rectangles-4.svg) **Коллекции и воркбуки**.
1. В правом верхнем углу нажмите **Создать** → **Создать воркбук**.
1. Введите название [воркбука](../../datalens/workbooks-collections/index.md) — `Практические руководства`.
1. Нажмите кнопку **Создать**.


## Создайте подключение {#create-connection}

Создайте [подключение](../../datalens/concepts/connection.md) к файлу с исходными данными.


1. В правом верхнем углу воркбука нажмите **Создать** → ![image](../../_assets/console-icons/thunderbolt.svg) **Подключение**.



1. В разделе **Файлы и сервисы** выберите подключение **Файлы**.
1. Нажмите кнопку **Загрузить файлы**.
1. Выберите файл **SuperHeroes.csv**. Дождитесь, когда на экране появится содержимое таблицы.
1. Нажмите кнопку **Создать подключение**.

   ![image](../../_assets/datalens/solution-01/01-save-file-connection.png)

1. Введите название подключения — `SuperHeroes` и нажмите кнопку **Создать**.

## Создайте датасет {#create-dataset}

Создайте [датасет](../../datalens/dataset/index.md) на базе подключения `SuperHeroes`:

1. На странице подключения в правом верхнем углу нажмите кнопку **Создать датасет**.
1. Перейдите на вкладку **Поля**.
1. Создайте поле с показателем среднего веса супергероя:

   1. Продублируйте поле  `Weight` — в правой части строки с полем нажмите ![image](../../_assets/console-icons/ellipsis.svg) и выберите **Дублировать**.
   1. Переименуйте дубликат поля `Weight (1)` в `Weight avg`: нажмите на имя поля, удалите текущее имя и введите новое.
   1. В столбце **Агрегация** выберите **Среднее**. Поле с агрегацией поменяет цвет на синий: оно стало показателем.

      ![image](../../_assets/datalens/solution-01/03-weght-avg.png)

1. Сохраните датасет:

   1. В правом верхнем углу нажмите кнопку **Сохранить**.
   1. Введите название датасета — `SuperHeroes dataset` и нажмите кнопку **Создать**.

## Создайте первый чарт {#create-column-chart1}

Для визуализации разделения по половому признаку создайте [чарт](../../datalens/concepts/chart/index.md) — [столбчатую диаграмму](../../datalens/visualization-ref/column-chart.md):

1. На странице датасета в правом верхнем углу нажмите кнопку **Создать чарт**.
1. Добавьте в чарт имена супергероев. Для этого из раздела **Измерения** перетащите поле `Name` в секцию **X**.
1. Добавьте в чарт веса супергероев. Для этого из раздела **Показатели** перетащите поле `Weight avg` в секцию **Y**.
1. Отсортируйте столбцы по убыванию веса. Для этого из раздела **Показатели** перетащите поле `Weight avg` в секцию **Сортировка**.

   ![image](../../_assets/datalens/solution-01/04-chart-section-1.png)

1. Добавьте на график цветовое разделение супергероев по половому признаку. Для этого из раздела **Измерения** перетащите поле `Gender` в секцию **Цвета**.
1. Переопределите цвета значений измерения `Gender`:

   1. Нажмите значок ![image](../../_assets/console-icons/gear.svg) в секции **Цвета** (значок появляется при наведении указателя на секцию).
   1. Выберите цвета: **Female** — розовый, **Male** — синий, **unknown** — оранжевый.
   1. Нажмите кнопку **Применить**.

      ![image](../../_assets/datalens/solution-01/06-chart-color-set1.png)

1. Оставьте на графике только тех супергероев, чей вес известен (больше нуля):

   1. Из раздела **Показатели** перетащите поле `Weight avg` в секцию **Фильтры**.
   1. В открывшемся окне укажите операцию **Больше** и значение **0**.
   1. Нажмите кнопку **Применить фильтр**.

   ![image](../../_assets/datalens/solution-01/05-chart-section-2.png)

1. Сохраните чарт:

   1. В правом верхнем углу нажмите кнопку **Сохранить**.
   1. В открывшемся окне введите название чарта `SuperHeroes — gender` и нажмите кнопку **Сохранить**.

   ![image](../../_assets/datalens/solution-01/08-chart-save.png)

## Создайте второй чарт {#create-column-chart2}

Для визуализации по принадлежности к лагерю хороших или плохих создайте второй чарт — столбчатую диаграмму.

1. Создайте копию чарта, созданного на предыдущем шаге:

   1. В правом верхнем углу нажмите значок ![save-button](../../_assets/console-icons/chevron-down.svg) → **Сохранить как копию**.

      ![save-chart-as-copy](../../_assets/datalens/solution-01/09-save-chart-as-copy.png)      

   1. В открывшемся окне введите название нового чарта `SuperHeroes — alignment` и нажмите кнопку **Сохранить**.

1. Замените цветовое разделение супергероев по половому признаку на цветовое разделение супергероев по принадлежности к лагерю хороших или плохих. Для этого из раздела **Измерения** перетащите поле `Alignment` в секцию **Цвета** и наведите его над полем `Gender`, пока то не станет красным.
1. Переопределите цвета значений измерения `Alignment`:

    1. Нажмите значок ![image](../../_assets/console-icons/gear.svg) в секции **Цвета** (значок появляется при наведении указателя на секцию).
    1. Выберите цвета: **good** — зеленый, **neutral** — синий, **bad** — красный, **unknown** — оранжевый.

1. Сохраните чарт — в правом верхнем углу нажмите кнопку **Сохранить**.

   ![image](../../_assets/datalens/solution-01/10-chart-alignment.png)

## Создайте дашборд и добавьте на него чарты {#create-dashboard}

Создайте [дашборд](../../datalens/concepts/dashboard.md), на который будут добавлены чарты и другие виджеты:


1. На панели слева выберите ![collections](../../_assets/console-icons/rectangles-4.svg) **Коллекции и воркбуки** и перейдите в воркбук `Практические руководства`.
1. В правом верхнем углу нажмите **Создать** → ![image](../../_assets/console-icons/layout-cells-large.svg) **Дашборд**.



1. На панели в нижней части страницы выберите виджет **Чарт**.

   ![add-chart](../../_assets/datalens/solution-01/11-add-chart.png)   

1. В открывшемся окне нажмите кнопку **Выбрать**.
1. Выберите чарт `SuperHeroes — gender`.
1. Нажмите кнопку **Добавить**.

   ![image](../../_assets/datalens/solution-01/12-add-chart-window.png)

1. Повторите шаги 3-6, чтобы добавить чарт `SuperHeroes — alignment`.
1. Установите размеры чартов с помощью мыши и расположите их на дашборде в удобном для вас порядке.

   ![image](../../_assets/datalens/solution-01/13-dashboard1.png)

## Добавьте селекторы на дашборд {#add-selectors}


Добавьте [селекторы](../../datalens/dashboard/selector.md), чтобы фильтровать супергероев по расам (поле `Race`) и издательствам (поле `Publisher`):

1. На панели в нижней части страницы выберите виджет **Селектор**.

   ![add-selector](../../_assets/datalens/solution-01/14-add-selector.png)   

1. Добавьте селектор по расам:

   1. Выберите датасет `SuperHeroes dataset`.
   1. Выберите поле `Race`.
   1. Включите опцию **Множественный выбор**.
   1. Нажмите кнопку **Сохранить**.

   ![image](../../_assets/datalens/solution-01/15-selector-race.png)

1. Добавьте селектор по издательствам:

   1. Убедитесь, что выбран датасет `SuperHeroes dataset`.
   1. Выберите поле `Publisher`.
   1. Включите опцию **Множественный выбор**.
   1. Нажмите кнопку **Сохранить**.

1. Расположите селекторы на дашборде в удобном для вас порядке.
1. Сохраните дашборд:

   1. В правом верхнем углу дашборда нажмите кнопку **Сохранить**.
   1. Введите название дашборда `SuperHeroes dashboard` и нажмите кнопку **Создать**.

1. Дашборд готов.

   ![image](../../_assets/datalens/solution-01/16-dashboard-saved.png)

## Исследуйте данные о супергероях {#search-on-dashboard}

1. Примените различные фильтры и исследуйте зависимости веса от пола и лагеря супергероя.

   ![image](../../_assets/datalens/solution-01/17-final-dashboard.png)

   В датасете, который был исследован, прослеживаются следующие зависимости:

   * Мужчины в основном тяжелее женщин.
   * Плохие супергерои в основном тяжелее хороших.

1. Вы можете создать новые показатели в датасете, например, средний рост (среднее от поля `Height`) и количество супергероев (количество уникальных от поля `Name`) и ответить на вопросы:

   * Представителей какой расы больше всего?
   * Есть ли зависимость роста от принадлежности к лагерю хороших или плохих?
   * Какая студия создала больше всего супергероев?
