---
title: Техническое обслуживание в {{ mrd-full-name }}
description: Под техническим обслуживанием в {{ mrd-name }} понимается автоматическая установка обновлений и исправлений СУБД для хостов (в т. ч. для выключенных кластеров), изменение класса хостов и размера хранилища и другие сервисные работы.
---

# Техническое обслуживание в {{ mrd-name }}

Под техническим обслуживанием понимается:

* автоматическая установка обновлений и исправлений СУБД для хостов (в т. ч. для выключенных кластеров);
* изменение класса хостов и размера хранилища;
* другие сервисные работы.

Изменение мажорной версии СУБД не включено в техническое обслуживание. Подробнее о переходе между мажорными версиями см. в разделе [{#T}](../operations/cluster-version-update.md).

## Окно обслуживания {#maintenance-window}

Предпочтительное время технического обслуживания можно задать при [создании кластера](../operations/cluster-create.md) или [изменении его настроек](../operations/update.md):

{% include [Maintenance window](../../_includes/mdb/maintenance-window.md) %}

## Порядок обслуживания {#maintenance-order}

Порядок технического обслуживания кластеров {{ mrd-name }} определяется количеством хостов и наличием [шардов](sharding.md).

### Нешардированный кластер

Техническое обслуживание проводится в следующем порядке:

1. [Хосты-реплики](replication.md) последовательно проходят техническое обслуживание. Порядок хостов в очереди определяется случайным образом. Если во время технического обслуживания потребуется перезагрузка реплики, она станет недоступной на это время.
1. Хост-мастер проходит техническое обслуживание. Если во время технического обслуживания потребуется перезагрузка мастера и он станет недоступным, его роль возьмет на себя одна из реплик. Кластер, состоящий из одного хоста, во время его технического обслуживания станет недоступным.

### Шардированный кластер

В шардированных кластерах техническое обслуживание проходит пошардово в порядке возрастания номера шарда. Техническое обслуживание хостов в каждом шарде происходит так же, как и в нешардированных кластерах:

1. Хосты-реплики последовательно проходят техническое обслуживание. Порядок хостов в очереди определяется случайным образом. Если во время технического обслуживания потребуется перезагрузка реплики, она станет недоступной на это время.
1. Хост-мастер проходит техническое обслуживание. Если во время технического обслуживания потребуется перезагрузка мастера и он станет недоступным, его роль возьмет на себя одна из реплик. Шард, состоящий из одного хоста, во время его технического обслуживания станет недоступным.
